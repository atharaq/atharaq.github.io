<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Professor Abdul-Quader">
  <title>CS II Lesson 9</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4/dist/theme/beige.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">CS II Lesson 9</h1>
  <p class="author">Professor Abdul-Quader</p>
  <p class="date">Designing Classes</p>
</section>

<section id="demos" class="title-slide slide level1">
<h1>Demos</h1>
<!--
10:30 - 11:15: Demos
11:15 - 11:45 Time exercise
11:45 - 12:00 Designing Classes
12:00 - 12:10 Exam 1 / Project 2 intro
-->
<ul>
<li>Now: project 1 demos</li>
<li>After: continue Time class.</li>
</ul>
</section>

<section>
<section id="last-time" class="title-slide slide level1">
<h1>Last time</h1>
<ul>
<li>Classes are templates for data types.</li>
<li>Declare a class: name <code>public class MyClass</code> in file MyClass.java</li>
<li>Declare instance variables.</li>
<li>Define your constructor(s)</li>
<li>Define your instance methods, like toString</li>
</ul>
</section>
<section id="video" class="slide level2">
<h2>Video</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uLqbNaFNWys?si=UZDYOrQXv1mZySD3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</section>
<section id="problem" class="slide level2">
<h2>Problem?</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="bu">Time</span> time = <span class="kw">new</span> <span class="bu">Time</span>(<span class="dv">13</span>, <span class="dv">75</span>, <span class="st">&quot;Go away!&quot;</span>);</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(time);</span></code></pre></div>
<ul>
<li>Is there a way we can get it to not work?</li>
<li>What happens when you create an ArrayList with a negative size?
<ul>
<li>Throws an <code>IllegalArgumentException</code>!</li>
<li>We can do that too!</li>
</ul></li>
</ul>
</section>
<section id="error-checking" class="slide level2">
<h2>Error Checking</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">public</span> <span class="bu">Time</span>(<span class="dt">int</span> currentHour, <span class="dt">int</span> currentMinute, <span class="bu">String</span> amOrPm) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    <span class="kw">if</span> (currentHour &lt; <span class="dv">1</span> || currentHour &gt; <span class="dv">12</span>) {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>        <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">IllegalArgumentException</span>(<span class="st">&quot;hour must be between 1 and 12&quot;</span>);</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>    } <span class="kw">else</span> {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>        hour = currentHour;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>    }</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>    ...</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>}</span></code></pre></div>
<ul>
<li>Yes, this will crash the program.</li>
<li>Not <code>Time</code>’s problem.</li>
<li>It’s a main method problem: make sure you validate <strong>before</strong> creating a Time object.</li>
<li>More on <em>handling</em> exceptions later this semester.</li>
</ul>
</section></section>
<section>
<section id="magic-numbers" class="title-slide slide level1">
<h1>Magic Numbers</h1>
<ul>
<li>We know that the hour needs to be between 1 and 12 by common sense. But it’s bad practice to use <strong>literals</strong> or “magic numbers”.</li>
<li>Instead, we should use <strong>constant class variables</strong>, which have <em>names</em> which are easier to understand as we read the code (see: Think Java, 3.4).</li>
</ul>
</section>
<section id="constant-class-variables" class="slide level2">
<h2>Constant Class Variables</h2>
<ul>
<li>A <strong>class variable</strong> is a static variable: created once for the class as a whole (not created when constructors are called).</li>
<li>To make a variable <strong>constant</strong> (meaning it can’t be changed after it is created), we use the <strong>final</strong> keyword. Here is an example:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="co">// convention: constants are UPPER_CASE</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MIN_HOUR = <span class="dv">1</span>;</span></code></pre></div>
</section>
<section id="exercise" class="slide level2">
<h2>Exercise</h2>
<p><a href="https://replit.com/team/cs2-spring-2024/Lesson-9-Time-class">Replit</a>: Clean up your constructor so that it checks if the hour, minute, and “AM” or “PM” variables are valid. Use constant class variables so that there are no “magic values”.</p>
</section></section>
<section>
<section id="visibility" class="title-slide slide level1">
<h1>Visibility</h1>
<p>Variable declarations in <code>Time</code> class:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MIN_HOUR = <span class="dv">1</span>;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MAX_HOUR = <span class="dv">12</span>;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MIN_MINUTE = <span class="dv">0</span>;</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MAX_MINUTE = <span class="dv">60</span>;</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="bu">String</span> AM = <span class="st">&quot;AM&quot;</span>;</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="bu">String</span> PM = <span class="st">&quot;PM&quot;</span>;</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>    <span class="kw">private</span> <span class="dt">int</span> hour;</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>    <span class="kw">private</span> <span class="dt">int</span> minute;</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>    <span class="kw">private</span> <span class="bu">String</span> amPm;</span></code></pre></div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<ul>
<li>Our constants are public?</li>
<li>Our instance variables are private?</li>
<li>toString is public?</li>
<li>Constructor: <code>public Time(...)</code>.</li>
<li>Some public / some private?</li>
</ul>
</section>
<section id="public-vs-private" class="slide level2">
<h2>Public vs private</h2>
<p>Java has several different <strong>visibility modifiers</strong>:</p>
<ul>
<li><strong>public</strong>: this item (variable, method, constructor) can be used in code anywhere</li>
<li><strong>protected</strong>: …</li>
<li>default visibility (ie, leave out the words public or private): …</li>
<li><strong>private</strong>: this item can be used in code only in the same class</li>
</ul>
</section>
<section id="rule-of-thumb" class="slide level2">
<h2>Rule of thumb</h2>
<ul>
<li>Make everything as private as you can.</li>
<li>Restrict how others use your class.</li>
<li>That way, you control how they will use it, and can predict / plan for bad behavior.</li>
</ul>
</section>
<section id="bad-example" class="slide level2">
<h2>Bad Example</h2>
<p>If the instance variables are public:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="bu">Time</span> t = <span class="kw">new</span> <span class="bu">Time</span>(<span class="dv">11</span>, <span class="dv">59</span>, <span class="bu">Time</span>.<span class="fu">AM</span>); <span class="co">// &quot;11:59 AM&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>t.<span class="fu">hour</span> = <span class="dv">53</span>;</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>t.<span class="fu">minute</span> = -<span class="dv">7</span>;</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>t.<span class="fu">amPm</span> = <span class="st">&quot;Hah! I tricked you!&quot;</span>;</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(t);</span></code></pre></div>
<ul>
<li>Got around all of our error-checking!</li>
<li>What should we do instead? How would we print out just the hour?</li>
</ul>
</section>
<section id="video-1" class="slide level2">
<h2>Video</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/4Qyvqq7JA44?si=od45-obTUDzXXJbn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</section></section>
<section>
<section id="exam-1" class="title-slide slide level1">
<h1>Exam 1</h1>
<p>If you are behind, you need to be doing as many exercises as possible. Write code as much as you can.</p>
</section>
<section id="find-the-mistakes" class="slide level2">
<h2>Find the mistakes</h2>
<p>Problem: given a String <em>name</em>, return the number of times the character <em>c</em> appears in it. What are all the mistakes in the following?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">numAppearances</span>(<span class="bu">String</span> name, <span class="dt">char</span> c) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>  <span class="bu">String</span> name = <span class="st">&quot;bob&quot;</span>;</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>  <span class="dt">char</span> c = <span class="st">&quot;b&quot;</span>;</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>  <span class="dt">int</span> n = <span class="dv">0</span>;</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a>  <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; name.<span class="fu">length</span>(); i++) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>    <span class="kw">if</span> (name.<span class="fu">charAt</span>(i) == c) {</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a>      <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(c);</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a>      n++;</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a>    }</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a>  }</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a>  <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(n);</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a>}</span></code></pre></div>
</section>
<section id="return-types-and-parameters" class="slide level2">
<h2>Return types and parameters</h2>
<ul>
<li>Pay attention to return types / parameter types</li>
<li>Do not <strong>set</strong> the parameters. (Why?)</li>
<li>Read the questions carefully. Understand what is being asked. Understand what you are meant to return.</li>
</ul>
</section>
<section id="put-things-together" class="slide level2">
<h2>Put things together</h2>
<ul>
<li>What if you blank on one of the parts?</li>
<li>The whole point of <strong>modularity</strong>.</li>
<li>You should be able to write <code>displayNumber</code> without knowing how to write <code>getNumber</code></li>
<li>You can even write <code>main</code> without knowing how to write any of the other methods.</li>
<li>Create a Scanner, call <code>getNumber</code> four times, output x, output y, multiply (real and imaginary), output the product.</li>
</ul>
</section>
<section id="corrections" class="slide level2">
<h2>Corrections</h2>
<p>If your grade on exam 1 was below 80, I will accept corrections for any problem you wish to correct. For each question, you must:</p>
<ol type="1">
<li>Write a short explanation of your thinking on the original problem. What did you do wrong? Did you misunderstand what you were supposed to do, did you misunderstand something about the material, or was there another reason for making that mistake?</li>
<li>Write up a complete, <strong>corrected</strong> solution to the problem.</li>
</ol>
</section>
<section id="extra-credit" class="slide level2">
<h2>Extra Credit</h2>
<p>You will get up to <strong>half</strong> the credit lost for each response (up to a max of 80). <em>Please come see me in office hours if you had trouble with any of these!</em> <strong>Due: 3/20</strong> (to me, in class, before Spring Break).</p>
<p>If your exam 1 grade is below 50, <strong>please see me in office hours</strong>, we can discuss further strategies to help catch you up.</p>
</section></section>
<section>
<section id="time-exercise" class="title-slide slide level1">
<h1>Time exercise</h1>
<p>Attempt 3: design a program which asks the user to input in the current time and a number of minutes to add (up to a max of 1000), and outputs the time after that many minutes.</p>
</section>
<section id="modular-design" class="slide level2">
<h2>Modular design</h2>
<p>Already implemented for you:</p>
<ul>
<li>Time class (keeps track of hour, minute, AM/PM)
<ul>
<li><code>toString</code> displays the time correctly</li>
<li><code>timeAfter</code> method</li>
</ul></li>
<li>getInput (gets an integer in a certain range from the user)</li>
<li>getAmOrPmInput (asks the user for input until they type in “AM” or “PM”)</li>
</ul>
<p>What do you need to do?</p>
</section>
<section id="exercise-1" class="slide level2">
<h2>Exercise</h2>
<p>Implement the main method to put everything together.</p>
<p><a href="code/lesson9.html">Starter code</a></p>
</section></section>
<section>
<section id="section-1" class="title-slide slide level1">
<h1></h1>
<p><a target="_blank" href="https://upload.wikimedia.org/wikipedia/commons/4/49/%22The_School_of_Athens%22_by_Raffaello_Sanzio_da_Urbino.jpg"><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/%22The_School_of_Athens%22_by_Raffaello_Sanzio_da_Urbino.jpg/773px-%22The_School_of_Athens%22_by_Raffaello_Sanzio_da_Urbino.jpg" alt="Plato and Aristotle in The School of Athens (Raphael)" /></a></p>
</section>
<section id="object-oriented-design" class="slide level2">
<h2>Object Oriented Design</h2>
<ul>
<li>Classes are templates for data types</li>
<li>Represent <strong>data</strong> and <strong>behavior</strong></li>
<li>Break your problem up into components: the <em>nouns</em> of your problem.</li>
<li>Implement each component in its own <em>class</em></li>
<li>Think about the <em>data</em> required to represnt that component</li>
<li>Think about the <em>actions</em> the object should be able to do.</li>
</ul>
</section>
<section id="design-discussion" class="slide level2">
<h2>Design discussion</h2>
<p>A <strong>Gaussian integer</strong> is a complex number of the form <span class="math inline">\(a + bi\)</span>, where <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are integers (<span class="math inline">\(i\)</span> is the imaginary number representing a square root of <span class="math inline">\(-1\)</span>). How would you design a Gaussian integer? What <strong>data</strong> is required to represent a Gaussian Integer? What are the <strong>actions</strong> it should be able to do?</p>
</section>
<section id="video-2" class="slide level2">
<h2>Video</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vAm6FQYi_jY?si=t3ZwIqp2Pwx0iuWJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</section>
<section id="next-time" class="slide level2">
<h2>Next Time</h2>
<ul>
<li>We will work on the GaussianInteger class next time.</li>
<li>Mutable vs immutable versions</li>
<li>Quiz 3 (most likely).</li>
</ul>
</section></section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="https://unpkg.com/reveal.js@^4/plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4/plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4/plugin/zoom/zoom.js"></script>
  <script src="https://unpkg.com/reveal.js@^4/plugin/math/math.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [
          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
